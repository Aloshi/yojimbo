DONE

TODO

    Setup test for receive messages. It's currently failing. No messages are getting through. Need to step through with logs and work out where it's breaking.

    Bunch of stuff. Was forgetting to call read/write packets on the interface. Also, needed to make some fixes to make sure the context set gets through to the packet processor.




Plan of attack:

1. Port code to put the message in the send queue (done)

2. Add the necessary data to the connection packet to includes messages in each packet (done)

3. Port code to measure and determine how many messages can be put in the packet, fill the packet, fill structure mapping packet -> messages to ack. (done)

4. Port code to receive messages (done)

5. Setup context (done)

6. Test that messages are being sent reliably and in-order (current...)

7. Extend the system to support large blocks

8. Bring across tests for large blocks

9. Bring across soak test for messages and large blocks

10. Integrate with client/server

11. Implement some tests for messages inside client/server
